# ü§ñ ChatBot Project ‚Äî AI –ê—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç—É

–¶–µ–π –ø—Ä–æ—î–∫—Ç ‚Äî —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π —á–∞—Ç-–±–æ—Ç, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –Ω–∞ –±–∞–∑—ñ **FastAPI**, **Ollama** —Ç–∞ **LLM-–º–æ–¥–µ–ª–µ–π** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Mistral, Phi), –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, –≤–±—É–¥–æ–≤–∞–Ω–∏–º –ø–æ—à—É–∫–æ–º –ø–æ –∑–Ω–∞–Ω–Ω—è—Ö, —Å—Ç—Ä–∏–º—ñ–Ω–≥–æ–º –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —ñ —Å—É—á–∞—Å–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —É —Å—Ç–∏–ª—ñ Microsoft Teams / iOS.

## üîß –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

- üîç **–ü–æ—à—É–∫ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É**: –±–æ—Ç —á–∏—Ç–∞—î —Ñ–∞–π–ª `university_texts.txt` —ñ —à—É–∫–∞—î —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é FAISS —Ç–∞ SentenceTransformer.
- üß† **LLM —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**: Mistral, Phi, –∞–±–æ —ñ–Ω—à—ñ –º–æ–¥–µ–ª—ñ, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å —á–µ—Ä–µ–∑ Ollama.
- üßµ **Streaming-–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ**: –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞–¥—Ö–æ–¥—è—Ç—å —É —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É.
- üé® **–°—É—á–∞—Å–Ω–∏–π UI**: –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω, —Ç–µ–º–Ω–∞ —Ç–µ–º–∞, –µ—Ñ–µ–∫—Ç–∏ "typing", —Å—Ç–∏–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞–≤—Ç–æ-–ø—Ä–æ–∫—Ä—É—Ç–∫–∞.
- üîê **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è prompt‚Äô—ñ–≤**: –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ –æ–±–º–µ–∂–µ–Ω–Ω—è –≤ 2048 —Ç–æ–∫–µ–Ω—ñ–≤, —Å—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.
- ‚òÅÔ∏è **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Azure VM** –∞–±–æ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ.

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
chatbot_project/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ ollama_client.py      # –ö–ª–∞—Å –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ Ollama —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
‚îÇ   ‚îú‚îÄ‚îÄ static/               # CSS / JS / assets
‚îÇ   ‚îî‚îÄ‚îÄ templates/            # HTML-—à–∞–±–ª–æ–Ω–∏ (Jinja2)
‚îú‚îÄ‚îÄ documents/university_texts.txt  # –¢–≤—ñ–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
‚îú‚îÄ‚îÄ main.py                   # FastAPI –ª–æ–≥—ñ–∫–∞
‚îú‚îÄ‚îÄ .env                      # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ Dockerfile                # FastAPI Docker
‚îú‚îÄ‚îÄ docker-compose.yml        # FastAPI + Ollama
‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

1. –í—Å—Ç–∞–Ω–æ–≤–∏ [Docker](https://www.docker.com/products/docker-desktop)

2. –ö–ª–æ–Ω—É–π –ø—Ä–æ—î–∫—Ç:

```bash
git clone https://github.com/pro100ham/chatbot_project.git
cd chatbot_project
```

3. –°—Ç–≤–æ—Ä–∏ `.env`:

```env
MODEL_NAME=mistral
ACTIVE_ENV=local
LOCAL_OLLAMA_URL=http://host.docker.internal:11434
DOCKER_OLLAMA_URL=http://ollama:11434
```

4. –ó–∞–ø—É—Å–∫:

```bash
docker-compose up --build
```

üìç –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å: [http://localhost:8000](http://localhost:8000)  
üìç Swagger: [http://localhost:8000/docs](http://localhost:8000/docs)

---

## ‚òÅÔ∏è –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Azure VM

1. –ü—ñ–¥–∫–ª—é—á–∏—Å—å:

```bash
ssh -i your_key.pem azureuser@<your-vm-ip>
```

2. –í—Å—Ç–∞–Ω–æ–≤–∏ Docker:

```bash
sudo apt update
sudo apt install -y docker.io docker-compose
sudo usermod -aG docker $USER
```

3. –°–∫–æ–ø—ñ—é–π –ø—Ä–æ—î–∫—Ç —ñ –∑–∞–ø—É—Å—Ç–∏:

```bash
scp -r -i your_key.pem ./chatbot_project azureuser@<your-vm-ip>:~
cd chatbot_project
docker-compose up --build -d
```

üìç –ü–µ—Ä–µ–≤—ñ—Ä: `http://<your-vm-ip>:8000`

---

## üß† –ú–æ–¥–µ–ª—ñ Ollama

–£ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ `ollama` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –º–æ–¥–µ–ª—å —ñ–∑ `.env`, –Ω–∞–ø—Ä.:

```yaml
command: >
  sh -c "ollama pull mistral && ollama serve"
```

–ê–±–æ –∑–º—ñ–Ω—é–π —ó—ó:

```bash
curl http://localhost:11434/api/pull -d '{"name": "phi"}'
```

---

## ‚ú® UI Preview

![Chat Preview](app/static/img/chat_preview.png)

---

## üîú –ü–ª–∞–Ω–∏

- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- [ ] –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ PDF / CSV / API —è–∫ –¥–∂–µ—Ä–µ–ª–∞ –∑–Ω–∞–Ω—å

---

MIT License ¬© 2025
